# Web Backend Project with Clean Architecture

Бэкенд проект, построенный с использованием принципов Clean Architecture.

## Структура проекта

```
├── cmd/                  # Точки входа в приложение
│   └── api/              # HTTP API сервер
│       └── main.go       # Основной файл запуска
├── internal/             # Приватный код приложения
│   ├── domain/           # Бизнес сущности и правила
│   ├── usecase/          # Реализация бизнес логики (use cases)
│   ├── repository/       # Реализация доступа к данным
│   ├── service/          # Вспомогательные сервисы
│   └── delivery/         # Обработчики запросов
│       ├── http/         # HTTP обработчики
│       └── grpc/         # gRPC обработчики
├── pkg/                  # Публичные библиотеки
│   ├── config/           # Конфигурация приложения
│   └── database/         # Утилиты для работы с БД
└── proto/                # Протото файлы для gRPC
```

## Слои Clean Architecture

1. **Entities (Domain)** - бизнес объекты приложения, определенные в `internal/domain`.
2. **Use Cases** - бизнес логика приложения в `internal/usecase`.
3. **Interface Adapters** - адаптеры для интерфейсов различного типа:
   - Репозитории (`internal/repository`) - адаптеры для БД
   - Handlers (`internal/delivery`) - адаптеры для HTTP/gRPC
4. **Frameworks & Drivers** - внешние фреймворки и инструменты:
   - MongoDB - база данных
   - gRPC - коммуникационный фреймворк
   - Go Std HTTP - веб фреймворк

## Ключевые Принципы

1. **Dependency Rule** - внутренние слои не зависят от внешних.
2. **Dependency Injection** - зависимости передаются извне.
3. **Interface Segregation** - интерфейсы определены в слое, где они используются.
4. **Single Responsibility** - каждый компонент имеет одну причину для изменения.

## gRPC и его Преимущества

gRPC в этом проекте используется для:

1. **Микросервисная Коммуникация** - обеспечивает высокопроизводительное взаимодействие между сервисами.
2. **Сильная Типизация** - контракты API определены через Protocol Buffers, что гарантирует типобезопасность.
3. **Эффективная Сериализация** - Protocol Buffers обеспечивают компактное бинарное представление данных.
4. **Двунаправленный Стриминг** - поддержка стриминга в обоих направлениях.
5. **Кросс-платформенность** - легко используется с разными языками программирования.

## NATS и Потенциальное Использование

NATS может быть использован для:

1. **Асинхронной Коммуникации** - для обработки событий, которые не требуют немедленного ответа.
2. **Публикация/Подписка** - для реализации паттерна издатель-подписчик между сервисами.
3. **Распределенные Очереди** - для балансировки нагрузки между несколькими экземплярами.
4. **Дискавери Сервисов** - для автоматического обнаружения сервисов.
5. **Отказоустойчивость** - для временного хранения сообщений при недоступности получателей.

## Запуск проекта

```bash
# Установка зависимостей
go mod download

# Генерация gRPC кода из proto файлов
protoc --go_out=. --go-grpc_out=. proto/*.proto

# Запуск сервера
go run cmd/api/main.go
```
